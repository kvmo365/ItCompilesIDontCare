<!DOCTYPE html>

<html lang="en">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><link href="favicon.ico" rel="icon"/>
<meta charset="utf-8"/>
<title>Admin Dashboard</title>
<link href="css/style.css" rel="stylesheet"/>
<div class="user-info">
<a href="login.html"><button>Login / Signup</button></a>
</div>
</head>
<body>
<nav class="container">
<a class="glitch" data-text="Home" href="index.html">Home</a>
<a class="glitch" data-text="High Cards" href="highcards.html">High Cards</a>
<a class="glitch" data-text="Taboo Tattoo" href="tabootattoo.html">Taboo Tattoo</a>
<a class="glitch" data-text="Devil Fruit" href="devilfruit.html">Devil Fruit</a>
<a class="glitch" data-text="Tailed Beasts" href="tailedbeasts.html">Tailed Beasts</a>
<a class="glitch" data-text="Saiyan" href="sayan.html">Saiyan</a>
<a class="glitch" data-text="Zanpaktuo" href="zanpaktuo.html">Zanpaktuo</a>
<a class="glitch" data-text="Nichirin" href="demonslayer.html">Nichirin</a>
<a class="glitch" data-text="Titans" href="titans.html">Titans</a>
</nav>
<h1>Admin - Product Management</h1>
<section class="product-form">
<h2>Add New Product</h2>
<form id="addProductForm">
<input id="name" placeholder="Product Name" required="" type="text"/>
<textarea id="description" placeholder="Description" required=""></textarea>
<input id="price" placeholder="Price" required="" type="number"/>
<input id="image" placeholder="Image Path (e.g. /images/watch.jpg)" required="" type="text"/>
<input id="stock" placeholder="Stock Quantity" required="" type="number"/>
<button type="submit">Add Product</button>
</form>
</section>
<section class="product-list">
<h2>Product List</h2>
<div id="productList"></div>
</section>
<script>
    // Fetch and display products
    fetch('/api/products')
      .then(res => res.json())
      .then(products => {
        const list = document.getElementById('productList');
        list.innerHTML = '';
        products.forEach(p => {
          const item = document.createElement('div');
          item.className = 'product-item';
          item.innerHTML = `
            <strong>${p.name}</strong><br>
            ${p.description}<br>
            Price: R${p.price} | Stock: ${p.stock}<br>
            <img src="${p.image}" width="100">
          `;
          list.appendChild(item);
        });
      });

    // Add product form submit
    document.getElementById('addProductForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const product = {
        name: document.getElementById('name').value,
        description: document.getElementById('description').value,
        price: parseFloat(document.getElementById('price').value),
        image: document.getElementById('image').value,
        stock: parseInt(document.getElementById('stock').value)
      };
      fetch('/api/products', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(product)
      })
      .then(res => res.json())
      .then(data => {
        alert('Product added!');
        location.reload(); // Refresh list
      });
    });
  </script>
<div id="product-container"></div>
<footer>
<p>Â© 2025 Your Anime Store. All rights reserved.</p>
</footer>
<script defer="True" src="script.js"></script><script src="js/custom.js"></script></body>
</html>
